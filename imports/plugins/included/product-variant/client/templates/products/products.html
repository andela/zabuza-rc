<template name="products">
  {{#if shopName}}
  <div id="name" class="nav nav-dashboard">
    <div class="row">
    <div class="col-md-12 shop-nav"><h1 class="page-title">{{capitalizeShopName}}'s Shop</h1></div>
    {{#with shopDetails}}
    <div class="col-md-12 shop-nav"><h5 class="page-subtitle">Shop Phone: {{shopPhone}}</h5></div>
    <div class="col-md-12 shop-nav"><a href="http://maps.google.com/?q={{shopAddress}}"><h5 class="page-subtitle">Shop Address: {{shopAddress}}</h5></a></div>
    {{/with}}
  </div>
  </div>
  {{/if}}

  {{#if ready}}
    {{>productGrid products=products shopName=shopName}}

    {{#if loadMoreProducts}}
      <div class="product-load-more" id="productScrollLimitLoader">
          <button
            class="btn btn-inverse btn-block btn-lg"
            data-i18n="app.loadMoreProducts"
            data-event-action="loadMoreProducts">Load more products</button>
      </div>
    {{/if}}

    {{#unless Template.subscriptionsReady}}
      <div class="spinner-container">
        <div class="spinner"></div>
      </div>
    {{/unless}}
  {{else}}
    <div class="spinner-container spinner-container-lg">
      <div class="spinner"></div>
    </div>
  {{/if}}


</template>

<template name="productListGrid">
  <div class="row">
    {{>productGrid products=products shopName=shopName}}
    {{#if hasPermission "createProduct"}}
      {{>productList}}
    {{/if}}
  </div>
</template>
